<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../lib/iconfont.css">

    <title> Netpple Cloud Music</title>
</head>

<body>
    <div class="top-bar">
        <div class="left-site">
            <div class="current-time">M月D日 EEE</div>
            <div class="bigest-title">为你推荐</div>
        </div>
        <a class="user-avatar" href="JavaScript:void(0)">
            <img src="../img/350px-Madogatari_Queen.png" alt="">
        </a>
    </div>
    <!-- === -->
    <div class="list">
        <div class="list-title">
            <div class="list-title-text">
                推荐歌单
            </div>
            <a class="view-all" href="JavaScript:void(0)">
                显示全部
            </a>
        </div>
        <div class="list-items">
            <div class="left-arrow">&lt;</div>
            <div class="disk-box">
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
            </div>
            <div class="right-arrow">&gt;</div>
        </div>
    </div>
    <div class="list">
        <div class="list-title">
            <div class="list-title-text">
                推荐歌单
            </div>
            <a class="view-all" href="JavaScript:void(0)">
                显示全部
            </a>
        </div>
        <div class="list-items">
            <div class="left-arrow">&lt;</div>
            <div class="disk-box">
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
            </div>
            <div class="right-arrow">&gt;</div>
        </div>
    </div>
    <div class="list">
        <div class="list-title">
            <div class="list-title-text">
                推荐歌单
            </div>
            <a class="view-all" href="JavaScript:void(0)">
                显示全部
            </a>
        </div>
        <div class="list-items">
            <div class="left-arrow">&lt;</div>
            <div class="disk-box">
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
                <div class="disk">
                    <img src="../img/IMG_8603.JPG" alt="">
                    <div class="disk-name">测试用，总之随便放点东西能让我换个行</div>
                </div>
            </div>
            <div class="right-arrow">&gt;</div>
        </div>
    </div>
    <div class="sub-bar">
        <div class="glass"></div>
        <div class="ctrl-panel">
            <div class="ctrl-item-box">
                <div class="ctrl-item">
                    <span class="iconfont icon-AppleMusic my-icon"></span>
                    <div class="ctrl-text">资料库</div>
                </div>
            </div>
            <div class="ctrl-item-box">
                <div class="ctrl-item">
                    <span class="iconfont icon-aixin my-icon"></span>
                    <div class="ctrl-text">为你推荐</div>
                </div>
            </div>
            <div class="ctrl-item-box">
                <div class="ctrl-item">
                    <span class="iconfont icon-sousuo my-icon"></span>
                    <div class="ctrl-text">搜索</div>
                </div>
            </div>
        </div>
        <div class="line"></div>
        <div class="player">
            <img src="../img/IMG_8603.JPG" alt="" class="current-img">
            <div class="current-song" id="currentSong">Overflow_Overflow_Overflow_Overflow_Overflow</div>
            <div class="play" id="play">
                <span class="iconfont icon-qiyong tools"></span>
            </div>
            <!-- <div class="pause" id="pause">
                <span class="iconfont icon-zanting tools"></span>
            </div> -->
            <div class="next-song">
                <span class="iconfont icon-ai-rew-right tools"></span>
            </div>
        </div>
    </div>

</body>

<script>
    fetch('http://www.huishiguang.com:3000/toplist', {
            method: "get",
            mode: "cors"
        })
        .then(function (r) {
            console.log(r);
            return r.json()
        })
        .then(function (data) {
            console.log(data)
            let strHtml = `<tr>
                        <td>歌曲名称</td>
                        <td>歌曲ID</td>
                        <td>临时播放器</td>
                    </tr>`;
            data.playlist.tracks.forEach(function (value, index, arr) {
                strHtml += `<tr>
                        <td>${value.name}</td>
                        <td>${value.id}</td>
                        <td id="${value.id}" onclick="play(${value.id})">播放</td>
                    </tr>`;
            });
            let table = document.getElementById('iAmHere');
            table.innerHTML = strHtml;
        })

    function play(id) {
        let temp = document.getElementById(id);
        temp.innerHTML =
            `<audio controls="controls" src="https://music.163.com/song/media/outer/url?id=${id}.mp3"></audio>`;
    }
</script>

</html>